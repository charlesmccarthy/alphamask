(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[297],{8861:function(t){t.exports={style:{fontFamily:"'__Inter_e66fe9', '__Inter_Fallback_e66fe9'",fontStyle:"normal"},className:"__className_e66fe9"}},6353:function(t,e,r){t.exports=r(5100)},4035:function(t,e,r){t.exports=r(916)},1951:function(t,e,r){"use strict";r.d(e,{x:function(){return g}});var n=r(959);function o(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){r(t);return}c.done?e(u):Promise.resolve(u).then(n,o)}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var a={exports:{}};!function(t){var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,r,n,o){var i,a=Object.create((r&&r.prototype instanceof p?r:p).prototype),c=new P(o||[]);return a._invoke=(i=f,function(r,o){if(i===h)throw Error("Generator is already running");if(i===d){if("throw"===r)throw o;return T()}for(c.method=r,c.arg=o;;){var a=c.delegate;if(a){var u=function t(r,n){var o=r.iterator[n.method];if(o===e){if(n.delegate=null,"throw"===n.method){if(r.iterator.return&&(n.method="return",n.arg=e,t(r,n),"throw"===n.method))return v;n.method="throw",n.arg=TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(o,r.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[r.resultName]=a.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(a,c);if(u){if(u===v)continue;return u}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(i===f)throw i=d,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);i=h;var s=l(t,n,c);if("normal"===s.type){if(i=c.done?d:"suspendedYield",s.arg===v)continue;return{value:s.arg,done:c.done}}"throw"===s.type&&(i=d,c.method="throw",c.arg=s.arg)}}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f="suspendedStart",h="executing",d="completed",v={};function p(){}function g(){}function m(){}var y={};u(y,i,function(){return this});var w=Object.getPrototypeOf,k=w&&w(w(S([])));k&&k!==r&&n.call(k,i)&&(y=k);var x=m.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function _(t,e){var r;this._invoke=function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var u=l(t[o],t,i);if("throw"===u.type)c(u.arg);else{var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,c)})}}(o,i,r,a)})}return r=r?r.then(a,a):a()}}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function S(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:T}}function T(){return{value:e,done:!0}}return g.prototype=m,u(x,"constructor",m),u(m,"constructor",g),g.displayName=u(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},b(_.prototype),u(_.prototype,a,function(){return this}),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},b(x),u(x,c,"Generator"),u(x,i,function(){return this}),u(x,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else if(s){if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else throw Error("try statement without catch or finally")}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return(a.type=t,a.arg=e,i)?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:S(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(a);var c=a.exports,u=function(t){var e=t.paths,r=t.id,o=t.strokeWidth,i=t.strokeColor,a=t.command,c=void 0===a?f:a;if(1===e.length){var u=e[0],s=u.x,l=u.y;return n.createElement("circle",{key:r,id:r,cx:s,cy:l,r:o/2,stroke:i,fill:i})}var h=e.reduce(function(t,e,r,n){return 0===r?"M "+e.x+","+e.y:t+" "+c(e,r,n)},"");return n.createElement("path",{key:r,id:r,d:h,fill:"none",strokeLinecap:"round",stroke:i,strokeWidth:o})},s=function(t,e){var r=e.x-t.x,n=e.y-t.y;return{length:Math.sqrt(Math.pow(r,2)+Math.pow(n,2)),angle:Math.atan2(n,r)}},l=function(t){var e=t.current,r=t.next,n=t.previous,o=t.reverse,i=s(n||e,r||e),a=i.angle+(o?Math.PI:0),c=.2*i.length;return[e.x+Math.cos(a)*c,e.y+Math.sin(a)*c]},f=function(t,e,r){var n=null,o=null;switch(e){case 0:var i=l({current:t});n=i[0],o=i[1];break;case 1:var a=l({current:r[e-1],next:t});n=a[0],o=a[1];break;default:var c=l({current:r[e-1],previous:r[e-2],next:t});n=c[0],o=c[1]}var u=l({current:t,previous:r[e-1],next:r[e+1],reverse:!0});return"C "+n+","+o+" "+u[0]+","+u[1]+" "+t.x+", "+t.y},h=function(t){var e=t.id,r=t.paths;return n.createElement(n.Fragment,null,r.map(function(t,r){return n.createElement(u,{key:e+"__"+r,paths:t.paths,id:e+"__"+r,strokeWidth:t.strokeWidth,strokeColor:t.strokeColor,command:f})}))},d=function(t){return new Promise(function(e,r){var n=new Image;n.addEventListener("load",function(){n.width>0&&e(n),r("Image not found")}),n.addEventListener("error",function(t){return r(t)}),n.src=t,n.setAttribute("crossorigin","anonymous")})};function v(t){var e,r=null==(e=t.firstChild)?void 0:e.cloneNode(!0),n=t.offsetWidth,o=t.offsetHeight;return r.setAttribute("viewBox","0 0 "+n+" "+o),r.setAttribute("width",n.toString()),r.setAttribute("height",o.toString()),{svgCanvas:r,width:n,height:o}}var p=n.forwardRef(function(t,e){var r=t.paths,a=t.isDrawing,s=t.onPointerDown,l=t.onPointerMove,f=t.onPointerUp,p=t.id,g=void 0===p?"react-sketch-canvas":p,m=t.width,y=t.height,w=t.className,k=t.canvasColor,x=void 0===k?"red":k,b=t.backgroundImage,_=void 0===b?"":b,E=t.exportWithBackgroundImage,L=void 0!==E&&E,P=t.preserveBackgroundImageAspectRatio,S=t.allowOnlyPointerType,T=void 0===S?"all":S,C=t.style,I=t.svgStyle,O=n.useRef(null),M=function(t){var e,r,n,o=null==(e=O.current)?void 0:e.getBoundingClientRect(),i=null!=(r=window.scrollX)?r:0,a=null!=(n=window.scrollY)?n:0;return o?{x:t.pageX-o.left-i,y:t.pageY-o.top-a}:{x:0,y:0}},N=function(t){("mouse"!==t.pointerType||0===t.button)&&("all"===T||t.pointerType===T)&&f()};n.useImperativeHandle(e,function(){return{exportImage:function(t){var e,r;return new Promise((e=c.mark(function e(r,n){var o,i,a,u,s,l,f,h;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=O.current){e.next=4;break}throw Error("Canvas not rendered yet");case 4:return a=(i=v(o)).svgCanvas,u=i.width,s=i.height,l="data:image/svg+xml;base64,"+btoa(a.outerHTML),e.next=8,d(l);case 8:if(e.t0=e.sent,f=[e.t0],!L){e.next=21;break}return e.prev=11,e.next=14,d(_);case 14:h=e.sent,f.push(h),e.next=21;break;case 18:e.prev=18,e.t1=e.catch(11),console.warn("exportWithBackgroundImage props is set without a valid background image URL. This option is ignored");case 21:Promise.all(f).then(function(e){var n=document.createElement("canvas");n.setAttribute("width",u.toString()),n.setAttribute("height",s.toString());var o=n.getContext("2d");if(!o)throw Error("Canvas not rendered yet");e.reverse().forEach(function(t){o.drawImage(t,0,0)}),r(n.toDataURL("image/"+t))}).catch(function(t){throw t}),e.next=27;break;case 24:e.prev=24,e.t2=e.catch(0),n(e.t2);case 27:case"end":return e.stop()}},e,null,[[0,24],[11,18]])}),r=function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function c(t){o(a,n,i,c,u,"next",t)}function u(t){o(a,n,i,c,u,"throw",t)}c(void 0)})},function(t,e){return r.apply(this,arguments)}))},exportSvg:function(){return new Promise(function(t,e){try{var r=null!=(n=O.current)?n:null;if(null!==r){var n,o,i,a=v(r).svgCanvas;if(L){t(a.outerHTML);return}null==(o=a.querySelector("#"+g+"__background"))||o.remove(),null==(i=a.querySelector("#"+g+"__canvas-background"))||i.setAttribute("fill",x),t(a.outerHTML)}e(Error("Canvas not loaded"))}catch(t){e(t)}})}}}),n.useEffect(function(){return document.addEventListener("pointerup",N),function(){document.removeEventListener("pointerup",N)}},[N]);var A=r.filter(function(t){return!t.drawMode}),R=0,j=r.reduce(function(t,e){return e.drawMode?(void 0===t[R]&&(t[R]=[]),t[R].push(e)):R+=1,t},[[]]);return n.createElement("div",{role:"presentation",ref:O,className:void 0===w?"react-sketch-canvas":w,style:i({touchAction:"none",width:void 0===m?"100%":m,height:void 0===y?"100%":y},void 0===C?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:C),"touch-action":"none",onPointerDown:function(t){("all"===T||t.pointerType===T)&&("mouse"!==t.pointerType||0===t.button)&&s(M(t))},onPointerMove:function(t){a&&("all"===T||t.pointerType===T)&&l(M(t))},onPointerUp:N},n.createElement("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:i({width:"100%",height:"100%"},void 0===I?{}:I),id:g},n.createElement("g",{id:g+"__eraser-stroke-group",display:"none"},n.createElement("rect",{id:g+"__mask-background",x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),A.map(function(t,e){return n.createElement(u,{key:g+"__eraser-"+e,id:g+"__eraser-"+e,paths:t.paths,strokeColor:"#000000",strokeWidth:t.strokeWidth})})),n.createElement("defs",null,_&&n.createElement("pattern",{id:g+"__background",x:"0",y:"0",width:"100%",height:"100%",patternUnits:"userSpaceOnUse"},n.createElement("image",{x:"0",y:"0",width:"100%",height:"100%",xlinkHref:_,preserveAspectRatio:void 0===P?"none":P})),A.map(function(t,e){return n.createElement("mask",{id:g+"__eraser-mask-"+e,key:g+"__eraser-mask-"+e,maskUnits:"userSpaceOnUse"},n.createElement("use",{href:"#"+g+"__mask-background"}),Array.from({length:A.length-e},function(t,r){return r+e}).map(function(t){return n.createElement("use",{key:t.toString(),href:"#"+g+"__eraser-"+t.toString()})}))})),n.createElement("g",{id:g+"__canvas-background-group"},n.createElement("rect",{id:g+"__canvas-background",x:"0",y:"0",width:"100%",height:"100%",fill:_?"url(#"+g+"__background)":x})),j.map(function(t,e){return n.createElement("g",{id:g+"__stroke-group-"+e,key:g+"__stroke-group-"+e,mask:"url(#"+g+"__eraser-mask-"+e+")"},n.createElement(h,{id:g,paths:t}))})))}),g=n.forwardRef(function(t,e){var r=t.id,o=t.width,a=t.height,c=t.className,u=t.canvasColor,s=t.strokeColor,l=void 0===s?"red":s,f=t.backgroundImage,h=t.exportWithBackgroundImage,d=t.preserveBackgroundImageAspectRatio,v=t.strokeWidth,g=void 0===v?4:v,m=t.eraserWidth,y=void 0===m?8:m,w=t.allowOnlyPointerType,k=t.style,x=t.svgStyle,b=t.onChange,_=void 0===b?function(t){}:b,E=t.onStroke,L=void 0===E?function(t,e){}:E,P=t.withTimestamp,S=void 0!==P&&P,T=n.createRef(),C=n.useState(!0),I=C[0],O=C[1],M=n.useState(!1),N=M[0],A=M[1],R=n.useState([]),j=R[0],W=R[1],B=n.useState([]),F=B[0],U=B[1],D=n.useState([]),G=D[0],H=D[1],Y=n.useCallback(function(){var t,e,r=null!=(t=null==(e=G.slice(-1))?void 0:e[0])?t:null;if(null===r){console.warn("No stroke found!");return}L(r,!r.drawMode)},[N]);return n.useEffect(function(){Y()},[N]),n.useEffect(function(){_(G)},[G]),n.useImperativeHandle(e,function(){return{eraseMode:function(t){O(!t)},clearCanvas:function(){W([].concat(G)),H([])},undo:function(){if(0!==j.length){H([].concat(j)),W([]);return}U(function(t){return[].concat(t,G.slice(-1))}),H(function(t){return t.slice(0,-1)})},redo:function(){0!==F.length&&(H(function(t){return[].concat(t,F.slice(-1))}),U(function(t){return t.slice(0,-1)}))},exportImage:function(t){var e,r=null==(e=T.current)?void 0:e.exportImage;if(r)return r(t);throw Error("Export function called before canvas loaded")},exportSvg:function(){return new Promise(function(t,e){var r,n=null==(r=T.current)?void 0:r.exportSvg;n?n().then(function(e){t(e)}).catch(function(t){e(t)}):e(Error("Export function called before canvas loaded"))})},exportPaths:function(){return new Promise(function(t,e){try{t(G)}catch(t){e(t)}})},loadPaths:function(t){H(function(e){return[].concat(e,t)})},getSketchingTime:function(){return new Promise(function(t,e){S||e(Error("Set 'withTimestamp' prop to get sketching time"));try{var r=G.reduce(function(t,e){var r,n,o=null!=(r=e.startTimestamp)?r:0,i=null!=(n=e.endTimestamp)?n:0;return t+(i-o)},0);t(r)}catch(t){e(t)}})},resetCanvas:function(){W([]),U([]),H([])}}}),n.createElement(p,{ref:T,id:void 0===r?"react-sketch-canvas":r,width:void 0===o?"100%":o,height:void 0===a?"100%":a,className:void 0===c?"":c,canvasColor:void 0===u?"white":u,backgroundImage:void 0===f?"":f,exportWithBackgroundImage:void 0!==h&&h,preserveBackgroundImageAspectRatio:void 0===d?"none":d,allowOnlyPointerType:void 0===w?"all":w,style:void 0===k?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:k,svgStyle:void 0===x?{}:x,paths:G,isDrawing:N,onPointerDown:function(t){A(!0),U([]);var e={drawMode:I,strokeColor:I?l:"#000000",strokeWidth:I?g:y,paths:[t]};S&&(e=i({},e,{startTimestamp:Date.now(),endTimestamp:0})),H(function(t){return[].concat(t,[e])})},onPointerMove:function(t){if(N){var e=G.slice(-1)[0],r=i({},e,{paths:[].concat(e.paths,[t])});H(function(t){return[].concat(t.slice(0,-1),[r])})}},onPointerUp:function(){if(N&&(A(!1),S)){var t,e,r=null!=(t=null==(e=G.slice(-1))?void 0:e[0])?t:null;if(null!==r){var n=i({},r,{endTimestamp:Date.now()});H(function(t){return[].concat(t.slice(0,-1),[n])})}}}})})},5341:function(t,e,r){"use strict";e.Z=function(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=function t(e){var r,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e){if(Array.isArray(e))for(r=0;r<e.length;r++)e[r]&&(n=t(e[r]))&&(o&&(o+=" "),o+=n);else for(r in e)e[r]&&(o&&(o+=" "),o+=r)}return o}(t))&&(n&&(n+=" "),n+=e);return n}}}]);